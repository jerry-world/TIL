# ìŠ¤ë ˆë“œ(Thread)

> ğŸ’¡ [í”„ë¡œì„¸ìŠ¤ì™€ ìŠ¤ë ˆë“œ](https://www.notion.so/4f6c07f7f28745239ec0b5c68e4ee599) ë‚´ìš©ì„ ì½ê³  ë¨¼ì € í”„ë¡œì„¸ìŠ¤ì™€ ìŠ¤ë ˆë“œì˜ ì°¨ì´ë¥¼ ì´í•´í•˜ì.


# ìŠ¤ë ˆë“œ ì´í•´í•˜ê¸°

ìŠ¤ë ˆë“œë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ìœ¼ë¡œëŠ” 2ê°€ì§€ê°€ ì¡´ì¬í•œë‹¤.

1. Thread í´ë˜ìŠ¤ ìƒì†
2. Runnable ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„(Better)

![Untitled](ìŠ¤ë ˆë“œ(Thread)/Untitled.png)

ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëƒ, ë¶€ëª¨í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ ì²˜ë¦¬í•˜ëƒì˜ ì°¨ì´ì´ë‹¤. í•„ìš”ì— ë”°ë¼ ì„ íƒí•´ì„œ ì‚¬ìš©í•œë‹¤.

ë‘ê°€ì§€ ëª¨ë‘ run ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ì—¬ ìŠ¤ë ˆë“œê°€ í•  ì‘ì—…ì„ ë§Œë“¤ì–´ì¤€ë‹¤. ì‘ì„±ëœ ìŠ¤ë ˆë“œì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , ì¸ìŠ¤í„´ìŠ¤ì˜ startë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ í•´ë‹¹ ìŠ¤ë ˆë“œë¥¼ ë™ì‘ì‹œí‚¨ë‹¤.

ë¬¼ë¡  start ë©”ì„œë“œë¥¼ í˜¸ì¶œí–ˆë‹¤ê³ í•´ì„œ, ë°”ë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ì‹¤í–‰ ê°€ëŠ¥ìƒíƒœê°€ ë˜ëŠ” ê²ƒì´ë‹¤.

ì‹¤í–‰ê°€ëŠ¥ ìƒíƒœê°€ ë˜ë©´ OS ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì´ë¥¼ ë³´ê³  ì‹¤í–‰ì‹œí‚¨ë‹¤.

OS ìŠ¤ì¼€ì¤„ëŸ¬ëŠ” ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì‘ì¤‘ì¼ ë•Œ, ìŠ¤ë ˆë“œë¥¼ ë™ì‘í•˜ëŠ” ê²ƒì„ ìŠ¤ì¼€ì¤„ë§í•´ì¤€ë‹¤. ì´ 2ê°œì˜ ìŠ¤ë ˆë“œê°€ ë™ì‘ì¤‘ì´ê³  ê° ìŠ¤ë ˆë“œê°€ 0ê³¼ 1ì„ ê°ê° ì¶œë ¥í•˜ëŠ” ìŠ¤ë ˆë“œë¼ë©´, OS ìŠ¤ì¼€ì¤„ëŸ¬ëŠ” ê° ìŠ¤ë ˆë“œë¥¼ ë²ˆê°ˆì•„ ê°€ë©´ì„œ ì‹¤í–‰ì‹œí‚¨ë‹¤.

OSì— ì¢…ì†ì ì´ë‹¤â€¦

ì¶œë ¥í•˜ë©´ 00001111001010100011100 ì´ëŸ°ì‹ìœ¼ë¡œ ì˜ˆì¸¡ë¶ˆê°€í•˜ê²Œ ê²°ê³¼ê°€ ì¶œë ¥ë  ìˆ˜ ìˆë‹¤.

## ë™ì‘ì›ë¦¬

![Untitled](ìŠ¤ë ˆë“œ(Thread)/Untitled%201.png)

1. ë©”ì¸ë©”ì„œë“œì—ì„œ ìŠ¤ë ˆë“œ ì¸ìŠ¤í„´ìŠ¤ì˜ start ë©”ì„œë“œë¥¼ í˜¸ì¶œí–ˆë‹¤.
2. ìŠ¤ë ˆë“œê°€ ë™ì‘í•˜ë©´ì„œ ìƒˆë¡œìš´ call stackì´ ìƒì„±ë˜ê³  start ë©”ì„œë“œê°€ ì¢…ë£Œë˜ì—ˆë‹¤.
3. ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆëŠ” ë©€í‹° ìŠ¤ë ˆë“œê°€ ë˜ì—ˆë‹¤. 

## main ìŠ¤ë ˆë“œ

- main ë©”ì„œë“œì˜ ì½”ë“œë¥¼ ìˆ˜í–‰í•˜ëŠ” ìŠ¤ë ˆë“œì´ë‹¤.

ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ êµ¬ë™ë˜ë©´ì„œ ìë°” ì¸í„°í”„ë¦¬í„°ê°€ ìµœì´ˆì— ì‹¤í–‰ì‹œí‚¤ëŠ” ìš°ë¦¬ê°€ í”íˆ ì‘ì„±í•˜ëŠ” main ë©”ì„œë“œê°€ ê²°êµ­ì—” main ìŠ¤ë ˆë“œê°€ ëœë‹¤. ìœ„ì—ì„œ ì–¸ê¸‰í•œ ë°”ì™€ê°™ì´ í”„ë¡œì„¸ìŠ¤ëŠ” ë°˜ë“œì‹œ í•˜ë‚˜ ì´ìƒì˜ ìŠ¤ë ˆë“œë¡œ ë™ì‘í•˜ëŠ”ë°, ìë°”ëŠ” ê·¸ ëŒ€ìƒì´ ìµœì´ˆ main ìŠ¤ë ˆë“œê°€ ëœë‹¤.

- ìŠ¤ë ˆë“œëŠ” **ì‚¬ìš©ì ìŠ¤ë ˆë“œ**ì™€ **ë°ëª¬ ìŠ¤ë ˆë“œ**ê°€ ì¡´ì¬í•œë‹¤.

ì‚¬ìš©ì ìŠ¤ë ˆë“œëŠ” main ìŠ¤ë ˆë“œë¥¼ ì˜ë¯¸í•˜ê³ , ë°ëª¬ ìŠ¤ë ˆë“œëŠ” ì‚¬ìš©ì ìŠ¤ë ˆë“œë¥¼ ë³´ì¡°í•˜ëŠ” ì¦‰ main ìŠ¤ë ˆë“œë¥¼ ë³´ì¡°í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” ìŠ¤ë ˆë“œë¥¼ ì˜ë¯¸í•œë‹¤.

> ğŸ’¡ í”„ë¡œê·¸ë¨ì€ ì‹¤í–‰ ì¤‘ì¸ ì‚¬ìš©ì ìŠ¤ë ˆë“œê°€ í•˜ë‚˜ë„ ì—†ì„ ë•Œ í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œëœë‹¤.
> ì¦‰, ì‹±ê¸€ ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œëŠ” main ìŠ¤ë ˆë“œê°€ ëª¨ë‘ ì¢…ë£Œë˜ë©´ í”„ë¡œê·¸ë¨ì€ ì¢…ë£Œëœë‹¤.


# ë©€í‹°ìŠ¤ë ˆë“œ

## ë©€í‹° ìŠ¤ë ˆë“œí™˜ê²½ì—ì„œì˜ ì¢…ë£Œ ì‹œì 

![Untitled](ìŠ¤ë ˆë“œ(Thread)/Untitled%202.png)

ìœ„ ê·¸ë¦¼ì²˜ëŸ¼ ë©€í‹° ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ë©”ì¸ ìŠ¤ë ˆë“œê°€ ì¢…ë£Œë˜ë”ë¼ë„ ìš°ì¸¡ ìŠ¤ë ˆë“œê°€ ì‚´ì•„ìˆëŠ” ìƒíƒœì´ê¸° ë•Œë¬¸ì— í”„ë¡œê·¸ë¨ì€ ì¢…ë£Œë˜ì§€ ì•ŠëŠ”ë‹¤. ìš°ì¸¡ ìŠ¤ë ˆë“œê°€ ì¢…ë£Œë˜ì–´ì•¼ í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œëœë‹¤.

Threadì˜ joinë©”ì„œë“œëŠ” main ìŠ¤ë ˆë“œê°€ joinë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ìŠ¤ë ˆë“œê°€ ì¢…ë£Œë  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.

```java
public class ThreadExample02 {
    public static void main(String[] args) {
        long start = System.currentTimeMillis();

        Thread t1 = new ThreadEx();
        Thread t2 = new Thread(new RunnableEx());

        t1.start();
        t2.start();

        try {
            //Threadì˜ joinë©”ì„œë“œëŠ” main ìŠ¤ë ˆë“œê°€ joinë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ìŠ¤ë ˆë“œê°€ ì¢…ë£Œë  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.
            t1.join();
            t2.join();
        } catch (InterruptedException e) {
            throw new RuntimeException(e);
        }

        long end = System.currentTimeMillis();

        System.out.println("ì†Œìš” ì‹œê°„ : " + (end-start));

        System.out.println("t2 = " + t2);

    }
}
```

ìœ„ì˜ ì†ŒìŠ¤ì½”ë“œ ì˜ˆì œì—ì„œ t1ê³¼ t2ì˜ join ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì–´ìˆê¸° ë•Œë¬¸ì—, main ìŠ¤ë ˆë“œëŠ” t1ê³¼ t2ê°€ ì¢…ë£Œë  ë•Œê¹Œì§€ ì¢…ë£Œë˜ì§€ ì•ŠëŠ”ë‹¤. ë§Œì•½ í•´ë‹¹ try-catch êµ¬ë¬¸ì´ ì—†ë‹¤ë©´, main ìŠ¤ë ˆë“œê°€ t1,t2ë¥¼ ê¸°ë‹¤ë ¤ì£¼ì§€ ì•Šê¸° ë•Œë¬¸ì—, ì†Œìš”ì‹œê°„ì´ ì´ìƒí•˜ê²Œ ë‚˜ì˜¬ ê²ƒì´ë‹¤.

## ë©€í‹° ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œì˜ ë¬¸ë§¥êµí™˜

![Untitled](ìŠ¤ë ˆë“œ(Thread)/Untitled%203.png)

ë©€í‹°ìŠ¤ë ˆë“œí™˜ê²½ì—ì„œëŠ” OS ìŠ¤ì¼€ì¤„ëŸ¬ì— ì˜í•´ ì„œë¡œë‹¤ë¥¸ ìŠ¤ë ˆë“œë¼ë¦¬ ë²ˆê°ˆì•„ê°€ë©´ì„œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ë°, ì´ë ‡ê²Œ ì„œë¡œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œë¡œ ì‘ì—… ëŒ€ìƒì´ êµì²´ë˜ëŠ” ê²ƒì„ **ë¬¸ë§¥ êµí™˜(Context Switching)**ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

ì´ ë¬¸ë§¥êµí™˜ ì‘ì—…ì€ ì‹œê°„ì´ ì†Œìš”ë˜ê¸° ë•Œë¬¸ì—, ë©€í‹° ìŠ¤ë ˆë“œ í™˜ê²½ì€ ì‹±ê¸€ ìŠ¤ë ˆë“œ í™˜ê²½ë³´ë‹¤ ì‘ì—… ì¢…ë£Œ ì‹œê°„ì´ ë³´ë‹¤ ì†Œìš”ë  ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ, ë‘ê°€ì§€ ì‘ì—…ì„ ë™ì‹œì— ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì„ ê°–ê³ ìˆë‹¤.

ì˜ˆë¡œ íŒŒì¼ ì „ì†¡ê³¼ ë™ì‹œì— ì±„íŒ…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì„ ê°€ì§€ê³  ìˆë‹¤.

## ìŠ¤ë ˆë“œì˜ I/O ë¸”ë½í‚¹(blocking)

ì…ì¶œë ¥ì‹œ ì‘ì—…ì´ ì¤‘ë‹¨ë˜ëŠ” ê²ƒì„ I/O ë¸”ë½í‚¹ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

![Untitled](ìŠ¤ë ˆë“œ(Thread)/Untitled%204.png)

ì‹±ê¸€ ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œëŠ” I/Oë¸”ë½í‚¹ì´ ë°œìƒí•˜ë©´, ëª¨ë“  ì‘ì—…ì´ ëŒ€ê¸°í•˜ê²Œ ë˜ì§€ë§Œ, ë©€í‹° ìŠ¤ë ˆë“œí™˜ê²½ì—ì„œëŠ” íŠ¹ì • ìŠ¤ë ˆë“œê°€ I/O ë¸”ë½í‚¹ì´ ë°œìƒí•˜ë”ë¼ë„ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ë™ì‘í•˜ê¸°ë•Œë¬¸ì— **ìì›ì„ ë³´ë‹¤ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©**í•  ìˆ˜ ìˆë‹¤.

## ìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„(prioriy of thread)

ì‘ì—…ì˜ ì¤‘ìš”ë„ì— ë”°ë¼ ìŠ¤ë ˆë“œì— ìš°ì„ ìˆœìœ„ë¥¼ ë‹¤ë¥´ê²Œ í•´ì„œ, íŠ¹ì • ìŠ¤ë ˆë“œê°€ ë” ë§ì€ ì‘ì—…ì‹œê°„ì„ ê°–ë„ë¡í•  ìˆ˜ ìˆë‹¤.

ìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ëŠ” 1~10 ì‚¬ì´ì˜ ê°’ìœ¼ë¡œ ê²°ì •ë˜ë©°, ê¸°ë³¸ê°’ì€ 5 ì´ë‹¤.

ìƒìˆ˜ë¡œë„ ì •ì˜ë˜ì–´ìˆë‹¤.

![Thread í´ë˜ìŠ¤ ë‚´ë¶€ì— ì¡´ì¬í•˜ëŠ” ìƒìˆ˜](ìŠ¤ë ˆë“œ(Thread)/Untitled%205.png)

Thread í´ë˜ìŠ¤ ë‚´ë¶€ì— ì¡´ì¬í•˜ëŠ” ìƒìˆ˜

`Thread`ì˜ `setPriority(int)` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬, ìš°ì„ ìˆœìœ„ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìœ¼ë©°, `getPriority`ë¥¼ í˜¸ì¶œí•˜ë©´ ìš°ì„ ìˆœìœ„ ê°’ì„ ë°˜í™˜ë°›ì„ ìˆ˜ ìˆë‹¤.

![Untitled](ìŠ¤ë ˆë“œ(Thread)/Untitled%206.png)

í•˜ì§€ë§Œ, ì´ ìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ëŠ” í¬ë§ì‚¬í•­ ì •ë„ì´ë‹¤. OS ìŠ¤ì¼€ì¤„ëŸ¬ì—ê²Œ **â€œë‚œ th1ì´ ì¢€ë” ë¹¨ë¦¬ ëë‚¬ìœ¼ë©´ ì¢‹ê² ì–´.â€** ë¼ê³  ë§í•˜ë”ë¼ë„ OS ìŠ¤ì¼€ì¤„ëŸ¬ëŠ” **â€œì°¸ê³ í•´ë³¼ê²Œâ€** í•˜ëŠ” ì •ë„ì˜ ìˆ˜ì¤€ì´ë¼ëŠ” ê²ƒì´ë‹¤â€¦

## ìŠ¤ë ˆë“œ ê·¸ë£¹

ì„œë¡œ ê´€ë ¨ëœ ìŠ¤ë ˆë“œë¥¼ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ì„œ ë‹¤ë£¨ê¸° ìœˆ ê²ƒì´ë‹¤.

ëª¨ë“  ìŠ¤ë ˆë“œëŠ” ë°˜ë“œì‹œ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— í¬í•¨ë˜ì–´ ìˆì–´ì•¼í•œë‹¤. ì¦‰, ë³„ë„ì˜ ìŠ¤ë ˆë“œ ê·¸ë£¹ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ main ìŠ¤ë ˆë“œ ê·¸ë£¹ì— í¬í•¨ëœë‹¤. ì™œëƒí•˜ë©´ ìì‹ ì„ ìƒì„±í•œ ìŠ¤ë ˆë“œ(ë¶€ëª¨ ìŠ¤ë ˆë“œ)ì˜ êµ¬ë£¹ê³¼ ìš°ì„ ìˆœìœ„ë¥¼ ìƒì† ë°›ê¸° ë•Œë¬¸ì´ë‹¤.

```java
Thread(ThreadGroup group, String name)
Thread(ThreadGroup group, Runnable target)
Thread(ThreadGroup group, Runnable target, String name)
Thread(ThreadGroup group, Runnable target, String name, long stackSize)
```

```java
ThreadGroup getThreadGroup() //ìŠ¤ë ˆë“œ ìì‹ ì´ ì†í•œ ìŠ¤ë ˆë“œ ê·¸ë£¹ì„ ë°˜í™˜
void uncaughtException(Thread t, Throwable e)// ì²˜ë¦¬ë˜ì§€ ì•Šì€ ì˜ˆì™¸ì— ì˜í•´ ìŠ¤ë ˆë“œ ê·¸ë£¹ì˜ ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ì´ ì¢…ë£Œë˜ì—ˆì„ ë•Œ, JVMì— ì˜í•´ ì´ ë©”ì„œë“œê°€ ìë™ í˜¸ì¶œëœë‹¤.
```

## ë°ëª¬ ìŠ¤ë ˆë“œ

ì¼ë°˜ ìŠ¤ë ˆë“œ(non-daemon thread)ì˜ ì‘ì—…ì„ ë•ëŠ” ë³´ì¡°ì ì¸ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.

ì¼ë°˜ ìŠ¤ë ˆë“œê°€ ëª¨ë‘ ì¢…ë£Œë˜ë©´ ìë™ì ìœ¼ë¡œ ì¢…ë£Œëœë‹¤.

ê°€ë¹„ì§€ ì»¬ë ‰í„°, ìë™ ì €ì¥, í™”ë©´ ìë™ê°±ì‹  ë“±ì— ì‚¬ìš©ëœë‹¤.

ë°ëª¬ ìŠ¤ë ˆë“œëŠ” ë³´í¸ì ìœ¼ë¡œ ë¬´í•œ ë£¨í”„ë¡œ ì‘ì„±í•œë‹¤. ì¼ì •ê¸°ê°„ ëŒ€ê¸°í•˜ë„ë¡ í•˜ê³ , íŠ¹ì • ì‘ì—…ì„ ë§Œì¡±í•  ë•Œ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡, ë¶„ê¸°ì²˜ë¦¬í•œë‹¤.

![Untitled](ìŠ¤ë ˆë“œ(Thread)/Untitled%207.png)

Thread ë©”ì„œë“œì˜ setDaemon ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ ëŒ€ìƒ ìŠ¤ë ˆë“œë¥¼ ë°ëª¬ ìŠ¤ë ˆë“œë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

isDaemonë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ëŒ€ìƒ ìŠ¤ë ˆë“œê°€ ë°ëª¬ ìŠ¤ë ˆë“œì¸ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

> ğŸ’¡ ë°˜ë“œì‹œ startë©”ì„œë“œê°€ í˜¸ì¶œë˜ê¸° ì „ì— setDaemonë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì•¼í•œë‹¤.


## ìŠ¤ë ˆë“œì˜ ìƒíƒœ

| NEW | ìŠ¤ë ˆë“œê°€ ìƒì„±ë˜ê³  ì•„ì§ start()ê°€ í˜¸ì¶œë˜ì§€ ì•Šì€ ìƒíƒœ |
| --- | --- |
| RUNNABLE | start ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì–´ ì‹¤í–‰ ì¤‘ ë˜ëŠ” ì‹¤í–‰ ê°€ëŠ¥ í•œ ìƒíƒœ |
| BLOCKED | ë™ê¸°í™” ë¸”ëŸ­ì— ì˜í•´ì„œ ì¼ì‹œì •ì§€ëœ ìƒíƒœ(lockì´ í’€ë¦´ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœ |
| WAITING,
TIME_WAITING | ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ì¢…ë£Œë˜ì§€ëŠ” ì•Šì•˜ì§€ë§Œ ì‹¤í–‰ê°€ëŠ¥í•˜ì§€ ì•Šì€(unrunnable) ì¼ì‹œì •ì§€ìƒíƒœ. TIME_WAITINGì€ ì¼ì‹œì •ì§€ì‹œê°„ì´ ì§€ì •ëœ ê²½ìš°ë¥¼ ì˜ë¯¸ |
| TERMINATED | ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ì¢…ë£Œëœ ìƒíƒœ |

![Untitled](ìŠ¤ë ˆë“œ(Thread)/Untitled%208.png)

ìŠ¤ë ˆë“œê°€ start()ë©”ì„œë“œë¥¼ ë§Œë‚˜ë©´ ì‹¤í–‰ ëŒ€ê¸°ìƒíƒœê°€ ëœë‹¤.

ì‹¤í–‰ ëŒ€ê¸°ìƒíƒœê°€ ëœ ìŠ¤ë ˆë“œëŠ” ìê¸° ì°¨ë¡€ê°€ ì˜¤ë©´ ìŠ¤ë ˆë“œë¥¼ ì‹œì‘í•˜ê³ , ìê¸° ì°¨ë¡€ê°€ ì¢…ë£Œë˜ë©´ ë‹¤ì‹œ ì‹¤í–‰ ëŒ€ê¸° ìƒíƒœì— ì¤„ì„œê¸°ë¥¼ í•œë‹¤.

ë§Œì•½ ì¼ì‹œì •ì§€ ìƒíƒœê°€ ë  ìˆ˜ ìˆëŠ” ëª…ë ¹ì„ ìˆ˜í–‰í•˜ë©´ ì¼ì‹œ ì •ì§€ í–ˆë‹¤ê°€, ì¼ì‹œì •ì§€ë¥¼ í‘¸ëŠ” ëª…ë ¹ì„ ìˆ˜í–‰í•˜ë©´ ë‹¤ì‹œ ì‹¤í–‰ ëŒ€ê¸° ìƒíƒœê°€ ëœë‹¤.

ìŠ¤ë ˆë“œê°€ ì¢…ë£Œë˜ë©´ ì†Œë©¸ëœë‹¤.

## ìŠ¤ë ˆë“œì˜ ì‹¤í–‰ì œì–´

ìŠ¤ë ˆë“œì˜ ì‹¤í–‰ì„ ì œì–´í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œê°€ ì œê³µëœë‹¤.

| ë©”ì„œë“œ | ì„¤ëª… |
| --- | --- |
| static void sleep(long millis)
static void sleep(long millis, int nanos) | ì§€ì •ëœ ì‹œê°„ë™ì•ˆ ìŠ¤ë ˆë“œë¥¼ ì¼ì‹œì •ì§€ì‹œí‚¨ë‹¤. ì§€ì •í•œ ì‹œê°„ì´ ì§€ë‚˜ê³  ë‚˜ë©´, ìë™ì ìœ¼ë¡œ ë‹¤ì‹œ ì‹¤í–‰ëŒ€ê¸° ìƒíƒœê°€ ëœë‹¤. |
| void join()
void join(long millis)
void join(long millis, int nanos) | ì§€ì •ëœ ì‹œê°„ë™ì•ˆ ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ë˜ë„ë¡ í•œë‹¤. ì§€ì •ëœ ì‹œê°„ì´ ì§€ë‚˜ê±°ë‚˜ ì‘ì—…ì´ ì¢…ë£Œë˜ë©´ join()ì„ í˜¸ì¶œí•œ ìŠ¤ë ˆë“œë¡œ ë‹¤ì‹œ ëŒì•„ì™€ ì‹¤í–‰ì„ ê³„ì†í•œë‹¤. |
| void interrupt() | sleep()ì´ë‚˜ join()ì— ì˜í•´ ì¼ì‹œì •ì§€ìƒíƒœì¸ ìŠ¤ë ˆë“œë¥¼ ê¹¨ì›Œì„œ ì‹¤í–‰ëŒ€ê¸°ìƒíƒœë¡œ ë§Œë“ ë‹¤. í•´ë‹¹ ìŠ¤ë ˆë“œì—ì„œëŠ” InterruptedExceptionì´ ë°œìƒí•¨ìœ¼ë¡œì¨ ì¼ì‹œì •ì§€ ìƒíƒœë¥¼ ë²—ì–´ë‚˜ê²Œ ëœë‹¤. |
| void stop() | ìŠ¤ë ˆë“œë¥¼ ì¦‰ì‹œ ì¢…ë£Œì‹œí‚¨ë‹¤. |
| void suspend() | ìŠ¤ë ˆë“œë¥¼ ì¼ì‹œì •ì§€ì‹œí‚¨ë‹¤. resume()ì„ í˜¸ì¶œí•˜ì—¬ ë‹¤ì‹œ ì‹¤í–‰ëŒ€ì‹œ ìƒíƒœê°€ ëœë‹¤. |
| void resume() | suspend()ì— ì˜í•´ ì¼ì‹œì •ì§€ìƒíƒœì— ìˆëŠ” ìŠ¤ë ˆë“œë¥¼ ì‹¤í–‰ëŒ€ê¸°ìƒíƒœë¡œ ë§Œë“ ë‹¤. |
| static void yield() | ì‹¤í–‰ ì¤‘ì— ìì‹ ì—ê²Œ ì£¼ì–´ì§„ ì‹¤í–‰ì‹œê°„ì„ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì—ê²Œ ì–‘ë³´í•˜ê³  ìì‹ ì€ ì‹¤í–‰ëŒ€ê¸°ìƒíƒœê°€ ëœë‹¤. |

> ğŸ’¡ `static` í‚¤ì›Œë“œê°€ ë¶™ì€ ë©”ì„œë“œëŠ” ìê¸° ìì‹ ì—ê²Œë§Œ í˜¸ì¶œê°€ëŠ¥í•˜ë‹¤.


### **sleep()**

í˜„ì¬ ìŠ¤ë ˆë“œë¥¼ ì§€ì •ëœ ì‹œê°„ë™ì•ˆ ë©ˆì¶”ê²Œ í•œë‹¤.

```java
static void sleep(long millis)
static void sleep(long millis, int nanos)
```

ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ë°˜ë“œì‹œ í•´ì£¼ì–´ì•¼í•œë‹¤.(`InterruptedException`ì´ ë°œìƒí•˜ë©´ ê¹¨ì–´ë‚¨)

```java
try{
	Thread.sleep(1000);
}catch(InterruptedException e){}
```

`sleep()` ì€ ì‹œê°„ì´ ì¢…ë£Œë˜ê±°ë‚˜, `interrupted()` ê°€ í˜¸ì¶œí•˜ë©´ ì¦‰, ëˆ„êµ°ê°€ ê¹¨ìš°ë©´ ëë‚œë‹¤.

`InturrptedExeption`ì€ ëˆ„êµ°ê°€ ê¹¨ì›Œì„œ ë°œìƒí•œ ê²ƒì´ì§€ ë¬¸ì œê°€ ë°œìƒí•œ  ê²ƒì€ ì•„ë‹ˆë‹¤.

ê·¸ëŸ°ë° ë§¤ë²ˆ ì´ë ‡ê²Œ try-catchë¬¸ì„ ì‘ì„±í•´ì„œ InterruptedException ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•´ì£¼ê¸° ë¶ˆí¸í•˜ë‹¤.

ê·¸ë˜ì„œ ì•„ë˜ì™€ ê°™ì´ ë³„ë„ë¡œ ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ê¸°ë„ í•œë‹¤.

```java
something(){
	delay(1000);
}

void delay(long millis){
	try{
		Thread.sleep(millis);
	}catch(InterruptedException e){}
}
```

![Untitled](ìŠ¤ë ˆë“œ(Thread)/Untitled%209.png)

### **interrupt()**

**ëŒ€ê¸°ìƒíƒœ(WAITING)**ì¸ ìŠ¤ë ˆë“œë¥¼ **ì‹¤í–‰ ëŒ€ê¸° ìƒíƒœ(RUNNABLE)**ë¡œ ë§Œë“ ë‹¤.

```java
void interrupt() // ìŠ¤ë ˆë“œì˜ interruptedìƒíƒœë¥¼ falseì—ì„œ trueë¡œ ë³€ê²½
boolean isInterrupted() // ìŠ¤ë ˆë“œì˜ interrupted ìƒíƒœë¥¼ ë°˜í™˜
static boolean interrupted() // **í˜„ì¬** ìŠ¤ë ˆë“œì˜ interrupted ìƒíƒœë¥¼ ì•Œë ¤ì£¼ê³ , falseë¡œ ì´ˆê¸°í™”
```

### **suspend(), resune(), stop()**

ìŠ¤ë ˆë“œì˜ ì‹¤í–‰ì„ ì¼ì‹œì •ì§€, ì¬ê°œ, ì™„ì „ì •ì§€ ì‹œí‚¨ë‹¤.

```java
@Deprecated

void suspend() //ìŠ¤ë ˆë“œë¥¼ ì¼ì‹œì •ì§€ ì‹œí‚¨ë‹¤.
void resume() //suspend()ì— ì˜í•´ ì¼ì‹œì •ì§€ëœ ìŠ¤ë ˆë“œë¥¼ ì‹¤í–‰ëŒ€ê¸°ìƒíƒœë¡œ ë§Œë“ ë‹¤.
void stop() //ìŠ¤ë ˆë“œë¥¼ ì¦‰ì‹œ ì¢…ë£Œì‹œí‚¨ë‹¤.
```

![Untitled](ìŠ¤ë ˆë“œ(Thread)/Untitled%2010.png)

> ğŸ’¡ ë°ë“œë½(êµì°©ìƒíƒœ)ì˜ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆì–´ Deparecated ë˜ì—ˆë‹¤.


ì§ì ‘ êµ¬í˜„í•  ìˆ˜ë„ ìˆë‹¤.

```java
public class MyThread implements Runnable{

    private Thread th;
    volatile private boolean suspended = false; // volatile ì‰½ê²Œ ë°”ë€ŒëŠ” ë³€ìˆ˜ ( cpuì— ìˆëŠ” ì½”ì–´ë“¤ì´ ë©”ëª¨ë¦¬ì—ìˆëŠ” ê°’ì„ ë³µì‚¬í•´ì„œ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë©”ëª¨ë¦¬ ì›ë³¸ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©)
    volatile private boolean stopped = false;

    public MyThread(String name) {
        th = new Thread(this, name);
    }

    void start(){
        th.start();
    }

    void stop(){
        stopped=true;
    }

    void suspend() {
        suspended = true;
    }

    void resume() {
        suspended = false;
    }

    @Override
    public void run() {
        while(!stopped){
            if(!suspended){
                //do something
            }
        }
    }
}
```

### **join()**

ì§€ì •ëœ ì‹œê°„ë™ì•ˆ íŠ¹ì • ìŠ¤ë ˆë“œê°€ ì‘ì—…í•˜ëŠ” ê²ƒì„ ê¸°ë‹¤ë¦°ë‹¤.

```java
void join() // ì‘ì—…ì´ ëª¨ë‘ ëë‚ ë•Œê¹Œì§€ ëŒ€ê¸°
void join(long millis) //ì²œë¶„ì˜ ì¼ì´ˆë™ì•ˆ ëŒ€ê¸°
void join(long millis, int nanos) // ì²œë¶„ì˜ ì¼ì´ˆ + ë‚˜ë…¸ì´ˆ ë™ì•ˆ ëŒ€ê¸°
```

joinì„ ì–¸ì œì“°ëŠ”ì§€ ì˜ˆì‹œë¥¼ ê¸°ì–µí•´ë³´ì.

ì•„ë˜ì˜ ì˜ˆì‹œë¥¼ ë– ì˜¬ë ¤ë³´ì.

![Untitled](ìŠ¤ë ˆë“œ(Thread)/Untitled%2011.png)

### yield()

ë‚¨ì€ ì‹œê°„ì„ ë‹¤ìŒ ìŠ¤ë ˆë“œì—ê²Œ ì–‘ë³´í•˜ê³ , ìì‹ (í˜„ì¬ ìŠ¤ë ˆë“œ)ì€ ì‹¤í–‰ëŒ€ê¸°í•œë‹¤.

![Untitled](ìŠ¤ë ˆë“œ(Thread)/Untitled%2012.png)

> ğŸ’¡ static ë©”ì„œë“œë¡œ ìê¸° ìì‹ í•œí…Œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œ


suspend() ê°€ trueë©´ falseì¼ë•Œê¹Œì§€ ê³„ì† whileì´ ëŒê»€ë°, ë‹¤ì‹œ resume()ë ë•Œê¹Œì§€ ì´ë ‡ê²Œ ê³„ì† ëŒë©´ì„œ ëŒ€ê¸°í•˜ê³  ìˆëŠ” ìƒíƒœë¥¼ **busy-waiting** ìƒíƒœë¼ê³  í•œë‹¤. ì´ëŸ´ë•ŒëŠ” ì°¨ë¼ë¦¬ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì—ê²Œ ì–‘ë³´ë¥¼ í•˜ëŠ”í¸ì´ ì¢‹ë‹¤.

yield()ì™€ interrupte()ë¥¼ ì ì ˆíˆ ì‚¬ìš©í•˜ë©´, ì‘ë‹µì„±ê³¼ íš¨ìœ¨ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.

```java
public class MyThread implements Runnable{

    private Thread th;
    volatile private boolean suspended = false; // volatile ì‰½ê²Œ ë°”ë€ŒëŠ” ë³€ìˆ˜ ( cpuì— ìˆëŠ” ì½”ì–´ë“¤ì´ ë©”ëª¨ë¦¬ì—ìˆëŠ” ê°’ì„ ë³µì‚¬í•´ì„œ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë©”ëª¨ë¦¬ ì›ë³¸ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©)
    volatile private boolean stopped = false;

    public MyThread(String name) {
        th = new Thread(this, name);
    }

    void start(){
        th.start();
    }

    void stop(){
        stopped=true;
        th.interrupt();
    }

    void suspend() {
        suspended = true;
        th.interrupt();
    }

    void resume() {
        suspended = false;
    }

    @Override
    public void run() {
        while(!stopped){
            if(!suspended){
                //do something
                try {
                    Thread.sleep(1000);
                } catch (InterruptedException e) {}
            }else{
                Thread.yield();
            }
        }
    }
}
```

yield()ë„ ì¼ì „ì˜ ìŠ¤ë ˆë“œ ìš°ì„ ìˆœìœ„ì²˜ëŸ¼ OS ìŠ¤ì¼€ì¤„ëŸ¬ì—ê²Œ í†µë³´í•˜ëŠ” ì‹ì´ë‹¤. OS ìŠ¤ì¼€ì¤„ëŸ¬ì—ê²Œ **â€œë‚´ê°€ ìŠ¤ë ˆë“œì˜ ì‘ì—…ì‹œê°„ì„ ì–‘ë³´í• í…Œë‹ˆ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ì¼ì„ í•  ìˆ˜ ìˆê²Œ ì²˜ë¦¬í•´ì£¼ë©´ ì¢‹ì„ ê²ƒ ê°™ì•„.â€** ë¼ëŠ” ì‹ìœ¼ë¡œ ë§í•˜ë©´ OS ìŠ¤ì¼€ì¤„ëŸ¬ëŠ” **â€œê·¸ë˜ ì°¸ê³ í•´ë³¼ê²Œ.â€** ì •ë„ ì¸ ê²ƒì´ë‹¤.

ì“¸ë•Œì™€ ì•ˆì“¸ë•Œê°€ ì„±ëŠ¥ì— í° ì˜í–¥ì„ ë¯¸ì¹˜ì§„ ì•Šì§€ë§Œ, ë¯¸ì•½í•˜ê²Œë‚˜ë§ˆâ€¦

## ìŠ¤ë ˆë“œì˜ ë™ê¸°í™”

Threadì—ì„œ ë™ê¸°í™”ë€ í•œ Threadê°€ ì§„í–‰ì¤‘ì¸ ì‘ì—…ì„ ë‹¤ë¥¸ Threadì—ì„œ ê°„ì„­í•˜ì§€ ëª»í•˜ë„ë¡ ë§‰ëŠ” ê²ƒì´ë‹¤.

ë™ê¸°í™”í•˜ë ¤ë©´ ê°„ì„­ë°›ì§€ ì•ˆì•„ì•¼ í•˜ëŠ” ë¬¸ì¥ë“¤ì„ **ì„ê³„ ì˜ì—­(Critical Section)**ìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤.

ë‹¤ë¥¸ ThreadëŠ” ëˆ„êµ°ê°€ ì„ê³„ ì˜ì—­ì— ì ‘ê·¼í•˜ê³  ìˆìœ¼ë©´ ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.

ì„ê³„ì˜ì—­ì€ **ë½ì„ ì–»ì€ ë‹¨ í•˜ë‚˜ì˜ Threadë§Œ ì¶œì…**ì´ ê°€ëŠ¥í•˜ë‹¤.

ë½ì€ ê°ì²´ë§ˆë‹¤ ë‹¨ í•œê°œë§Œ ê°€ì§€ê³  ìˆëŠ”ë‹¤.

```java
// ë©”ì„œë“œ ì „ì²´ë¥¼ ì„ê³„ì˜ì—­ìœ¼ë¡œ ì§€ì •
pbulic synchronized void calcSum(){ ... } // ... ì˜ì—­ì´ ì„ê³„ì˜ì—­

// íŠ¹ì •í•œ ì˜ì—­ì„ ì„ê³„ ì˜ì—­ìœ¼ë¡œ ì§€ì •
synchronized(ê°ì²´ì˜ ì°¸ì¡°ë³€ìˆ˜) { ... } 
```

ì„ê³„ ì˜ì—­ì€ í•œë²ˆì— 1ê°œì˜ Threadë§Œ ì¶œì…í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì˜ì—­ì„ ìµœì†Œí™”í•´ì•¼ í•œë‹¤. ì„ê³„ ì˜ì—­ì´ í¬ë©´ ì„±ëŠ¥ì´ ë–¨ì–´ì§„ë‹¤. ë•Œë¬¸ì—, ë©”ì„œë“œ ì „ì²´ë³´ë‹¨ íŠ¹ì •í•œ ì˜ì—­ì„ ì„ê³„ ì˜ì—­ìœ¼ë¡œ ì§€ì •í•˜ëŠ” í¸ì´ ì¢‹ë‹¤.

> ğŸ’¡ ì€í–‰ ê³„ì¢Œì—ì„œ ì¶œê¸ˆ ë¡œì§ì„ ìƒê°í•´ë³´ì


### **wait() ê³¼ notify()**

ë™ê¸°í™”ì˜ íš¨ìœ¨ì„ ë†’ì´ê¸° ìœ„í•´ wait(0, notify()ë¥¼ ì‚¬ìš©

Objectí´ë˜ìŠ¤ì— ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, ë™ê¸°í™”ë¸”ë¡ ë‚´ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ë™ê¸°í™”ë¥¼ ë³´ë‹¤ íš¨ìœ¨ì ìœ¼ë¡œ í•˜ê¸° ìœ„í•´ ì¡´ì¬í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. 

```java
wait() // ê°ì²´ì˜ lockì„ í’€ê³  ìŠ¤ë ˆë“œë¥¼ í•´ë‹¹ ê°ì²´ì˜ waiting poolì— ë„£ëŠ”ë‹¤.
notify() // waiting poolì—ì„œ ëŒ€ê¸°ì¤‘ì¸ ìŠ¤ë ˆë“œ í•˜ë‚˜ë¥¼ ê¹¨ìš´ë‹¤.
notifyAll() // waiting poolì—ì„œ ëŒ€ê¸°ì¤‘ì¸ ìŠ¤ë ˆë“œ ëª¨ë‘ë¥¼ ê¹¨ìš´ë‹¤.
```

**ì˜ˆì‹œ**

í…Œì´ë¸”ì— ë‘ëª…ì˜ ì†ë‹˜ì´ ìˆê³ , ì†ë‹˜ì€ íŠ¹ì • ìŒì‹ì„ ë¨¹ëŠ”ë‹¤. ìš”ë¦¬ì‚¬ëŠ” íŠ¹ì • ìŒì‹ì„ ë§Œë“¤ê³ , í…Œì´ë¸”ì— ìµœëŒ€ 5ê°œê¹Œì§€ ìŒì‹ì´ ì˜¬ë¼ê°ˆ ìˆ˜ ìˆë‹¤.

**ìš”ë¦¬ì‚¬**

ìŒì‹ì„ ê³„ì† í…Œì´ë¸”ì— ì¶”ê°€

```java
package thread.resturant;

public class Cooker implements Runnable{
    private Table table;

    public Cooker(Table table) {
        this.table = table;
    }

    @Override
    public void run() {
        while (true) {
            int idx = (int) (Math.random() * table.dishNum());
            table.add(table.dishNames[idx]);
						try {
                Thread.sleep(10);
            } catch (InterruptedException e) {}
        }
    }
}
```

**ì†ë‹˜**

í…Œì´ë¸”ì— ë†“ì¸ ìŒì‹ì„ ê³„ì† ì†Œë¹„

```java
package thread.resturant;

public class Customer implements Runnable{
    private Table table;
    private String food;

    public Customer(Table table, String food) {
        this.table = table;
        this.food = food;
    }

    @Override
    public void run() {
        while (true) {
            try {Thread.sleep(1000);} catch (InterruptedException e) {}

            String name = Thread.currentThread().getName();

            table.remove(food);
            System.out.println(name + " ate a " + food);

        }
    }
}
```

**í…Œì´ë¸”**

ì¶”ê°€ë˜ê±°ë‚˜ ì†Œë¹„ë  ìˆ˜ ìˆëŠ” ìŒì‹ì´ ì˜¬ë¼ê°€ëŠ” í…Œì´ë¸”

**add()**

ìŒì‹ì€ ìµœëŒ€ 6ê°œê¹Œì§€ í…Œì´ë¸”ì— ì˜¬ë¼ê°ˆ ìˆ˜ ìˆë‹¤.

ìŒì‹ì„ ê³„ì† ì¶”ê°€í•˜ë‹¤ê°€ ìµœëŒ€ ìŒì‹ ìˆ˜ì— ë„ë‹¬í•˜ë©´ `wait()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤. â†’ ìš”ë¦¬ì‚¬ê°€ waiting poolë¡œ ì§„ì…

**remove()**

ìŒì‹ì€ í…Œì´ë¸”ì— ë†“ì—¬ì§„ ìŒì‹ ìˆ˜ ë§Œí¼ ì†Œë¹„ë  ìˆ˜ ìˆë‹¤.

ê° ë‘ëª…ì˜ ì†Œë¹„ìëŠ” ë„ë„ˆì™€ í–„ë²„ê±°ë¥¼ ê³„ì† ì†Œë¹„ë¥¼ í•˜ëŠ”ë°, ë§Œì•½ í…Œì´ë¸”ì— ë†“ì¸ ì ‘ì‹œê°€ ì—†ìœ¼ë©´ ì†Œë¹„ë¥¼ ë©ˆì¶”ê³  ê¸°ë‹¤ë¦°ë‹¤.

```java
package thread.resturant;

import java.util.ArrayList;
import java.util.List;

public class Table {
    public String[] dishNames = {"burger", "donut", "donut"};
    final int MAX_FOOD = 6;
    private List<String> dishes = new ArrayList<>();

    public synchronized void add(String dish) {
        while (dishes.size() >= MAX_FOOD) {
            String name = Thread.currentThread().getName();
            System.out.println(name + " is waiting");
            try {
                wait(); // ìŒì‹ì´ ê°€ë“ì°¼ìœ¼ë‹ˆ ìš”ë¦¬ì‚¬ëŠ” ì‰¬ê² ìŠµë‹ˆë‹¤
                Thread.sleep(500);
            } catch (InterruptedException e) {
            }
        }
        dishes.add(dish);
        notify(); // ì†ë‹˜ ìŒì‹ ë‹¤ëì–´ìš”~
        System.out.println("Dishes:" + dishes.toString());
    }

    public void remove(String dishName) {
        synchronized (this) {
            String name = Thread.currentThread().getName();

            while (dishes.size() == 0) {
                System.out.println(name + " is waiting.");
                try {
                    wait(); //ìŒì‹ì´ ì—†ì–´ìš” ì†ë‹˜.
                    Thread.sleep(500);

                } catch (InterruptedException e) {
                }
            }

            while (true) {
                for (int i = 0; i < dishes.size(); i++) {
                    if (dishName.equals(dishes.get(i))) {
                        dishes.remove(i);
                        notify(); // ìš”ë¦¬ ë‹¤ë¨¹ì—ˆì–´ìš” ë˜ë§Œë“¤ì–´ì£¼ì„¸ìš”
                        return;
                    }
                }

                try {
                    System.out.println(name + " is waiting.");
                    wait(); // ìŒì‹ì´ ì—†ë„¤ìš” ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.
                    Thread.sleep(500);
                } catch (InterruptedException e) {
                }
            }
        }
    }

    public int dishNum() {
        return dishNames.length;
    }
}
```

```java
public class RestaurantExample {
    public static void main(String[] args) throws Exception {
        Table table = new Table();

        new Thread(new Cooker(table), "COOK").start();
        new Thread(new Customer(table, "donut"), "CUST1").start();
        new Thread(new Customer(table, "burger"), "CUST2").start();

        Thread.sleep(10000);
        System.exit(0);
    }
}
```

> ğŸ’¡ ìœ„ì˜ ì†ŒìŠ¤ë¥¼ ë³´ë©´, **notify** ì™€ **wait** ê°€ ëˆ„êµ¬ë¥¼ ì§€ì¹­í•˜ëŠ” ê²ƒì´ ì—†ë‹¤. ê·¸ëƒ¥ ê¸°ë‹¤ë¦¬ê³  ëˆ„êµ°ê°€ë¥¼ ê¹¨ìš°ëŠ” í–‰ìœ„ë¥¼ í•˜ëŠ” ê²ƒì´ë‹¤. ê·¸ ëˆ„êµ°ê°€ëŠ” ì•„ë¬´ ìŠ¤ë ˆë“œê°€ ëœë‹¤. ì´ëŸ¬í•œ ë¶€ë¶„ì„ ê°œì„ í•˜ê³ ì `Lock & Condition` ì´ ì¡´ì¬í•œë‹¤.
