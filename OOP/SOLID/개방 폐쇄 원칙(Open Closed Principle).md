# 개방 폐쇄 원칙(Open Closed Principle)

본 내용은 `개발자가 반드시 정보해야할 객체 지향과 디자인 패턴(저자: 최범균)` 를 읽고 내용을 정리하며 저만의 이해 방식으로 다시 기술한 내용입니다.

> 💡 확장에는 열려 있어야 하고, 변경에는 닫혀 있어야 한다.
> 기능을 변경하거나 확장할 수 있으면서, 그 기능을 사용하는 코드는 수정하지 않지 않는다.


기능을 변경 또는 확장하는데 그 기능을 사용하는 코드는 수정하지 않는다고? 조금 이상한 표현이다. 이 OCP 원칙을 이해하려면 기본적으로 추상클래스와 상속, 인터페이스와 구현을 이해할 수 있어야한다. 왜그런지 아래의 내용으로 살펴보자.

일반적인 인터페이스를 통한 구현 구조를 표현한 구조를 한번 UML로 살펴보자.

![Untitled](개방 폐쇄 원칙(Open Closed Principle)/Untitled.png)

위의 그림에서 Tire 인터페이스는 roll 메서드를 추상메서드로 가지고있다. 만약 새로운 타이어가 출시된다면, 위의 Tire 인터페이스의 규칙에 따라 만들기만 하면된다. 확장에는 열려있다. 그러면 Tire를 사용하는 CarProducer 입장에서는 새로운 타이어가 확장된다고 해서 변경이 될까? 그렇지 않다. 그이유는 CarProducer는 Tire를 의존하고있기 때문에 새로운 타이어가 출시된다 하더라도, 기존 그대로 사용할 수 있는 것이다.

인터페이스 뿐만 아니라 추상화도 마찬가지다. 추상 클래스를 상속받는 대상이 늘어난다 하더라도(확장) 실제 이 추상클래스를 사용하는 대상에는 수정이 일어날 필요가 없다.

추상클래스나 인터페이스 모두 확장될 수 있는 부분을 추상화 하였기 때문에 개방 폐쇄 원칙을 지킬 수 있다.

이 개방 폐쇄 원칙에서 말하고자 하는 바는 객체의 `유연성`이다. 만약 기능을 확장하는데 있어, 사용하는 기존 코드를 수정해야한다면 새로운 기능을 추가하는 것이 굉장히 부담스러울 것이다. 하지만, 개방 폐쇄 원칙을 준수하여 확장을 가능케 하고, 이를 사용하는 코드는 수정하지 않음으로써, 확장에 대한 유연함을 가질 수 있게 된다.

항상 이 OCP원칙을 볼때마다 헷갈리게 만드는데, 난 이렇게 이해하기로 했다.

내가(특정 클래스를 사용하는 입장) 어떤 클래스(상속 또는 구현을 통해 생성된 Concrete Class)를 사용(의존)하고 있을 때, 그 어떤 클래스의 변경이 없이 그와 유사한 새로운 기능이 확장(새로운 Concrete Class)되더라도, 내가 기존에 작성해둔 코드에는 변경이 없다.

다시말해, 확장에는 열려있고, 변경에는 닫혀있다.