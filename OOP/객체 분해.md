# 객체 분해

인지 심리학자 조지 밀러는 매직넘버 7 이론을 통해 사람의 단기 기억에 대해 말한다.
보통 사람이 기억할 수 있는 단기 기억의 수는 5개에서 9개정도 사이라는 는 것이다.

사람은 문제 해결에 팔요한 요소의 수가 단기 기억의 용량을 초과하는 순간 문ㅁ제 해결 능력은 급격하게 떨어진다.
이런 현상을 인지 과부하(cognitive overload)라고 부른다.

인지 과부하를 방지하기 위해서는 단기 기억  안에 보관할 정보의 양을 조절하는 것인데, 본질적인 정보만을 남겨두고
불필요한 세부 사항을 걸러내어 문제를 단순화하는 것이다.
이처럼 본질만 남기는 작업을 **추상화** 라고 한다.

사람들은 추상화를 위해, 어려운 문제를 작은 문제로 나누는 경향이 있다. 나누는 기준은 받아드릴 수 있는 수준의 크기로
작게 나누는 것이다. 이를 **분해(decomposition)** 라고 한다.

조지 밀러의 매직 넘버 7이 정보의 가장 작은 단위로서의 개별 항목ㅇ르 의미하는 것이 아니라, 하나의 단위로 취급될 수 있는
논리적인 청크(chunk)를 의미한다.

## 프로시저 추상하와 데이터 추상화
현대적인 프로그래밍 언어를 특징 짓는 중요한 두 가지 추상화 매커니즘은 **프로시저 추상화** 와 **데이터 추상화** 이다.

- 프로시저 추상화는 소프트웨어가 무엇을 해야하는지를 추상화한다.
- 데이터 추상화는 소프트웨어가 무엇을 알아야 하는지를 추상화한다.

## 프로시저 추상화와 기능 분해
과거 전통적인 방식인 프로시저 추상화 방식은 **하향식 접근법(Top-Down Approach)** 을 따른다.
하향식 접근법이란 시스템을 구상하는 가상 최상위 기능을 정의하고, 해당 기능을 더 작은 단계의 하위 기능으로 분해해 나가는 방법을 말한다.
하위 기능을 좀 더 작은 단계로 세분화할 수 있고, 마지막 하위 기능이 프로그래밍 언어로 구현 가능한 수준이 될 때까지 계속된다.

하향식 기능 분해는 논리적이고 체계적인 시스템 개발 절차를 제시한다. 커다라 기능을 좀 더 작은 기능으로 단계적으로
정제해 가는 과정은 구조적이며 체계적인 동시에 이상적인 방법으로까지 보일 것이다.

하지만, 이러한 체계적인 방법은 불규칙하고 불완전한 인간을 만나는 지점에서 혼란이 발생된다.

하향식 기능 분해방법은 실제로 설계에 적요하다 보면 다음과 같은 다양한 문제에 직면한다
- 시스템은 하나의 메인 함수로 구성돼 있지 않다.
- 기능 추가나 요구사항 변경으로 인해 메인 함수를 빈번하게 수정해야 한다.
- 비즈니스 로직이 사용자 인터페이스와 강하게 결합된다.
- 하향식 분해는 너무 이른 시기에 함수들의 실행 순서를 고정시키 때문에 유연성과 재사용성이 저하된다.
- 데이터 형식이 변경될 경우 파급효과를 예측할 수 없다.

### 하나의 메인 함수라는 비현실적인 아이디어
그 어떤 시스템도 최초에 릴리즈 되었던 모습을 그대로 유지하지 않는다. 시간이 지나고 사용자를 만족시키기 위해 새로운 변경이 일어나고,
그러다보면 처음 만든 그 메인 함수의 모습을 찾아보기 힘들기도 하다.

대부분의 시스템에서 하나의 메인 함수라는 개념은 존재하지 않는다. 모든 기능들은 규모라는 측면에서 차이가 있을 수 는 있겟지만
기능성으 측면에서는 동등하게 독립적이고 완결된 하나의 기능을 표현한다.

### 메인 함수의 빈번한 재설계
여러개의 정상이 존재(여러 기능이 모여 하나의 애플리케이션)하기 때문에 하나의 메인 함수를 유일한 정상으로 간주하는 하향식 기능 분해의 경우에는
새로운 기능을 추가할 때마다 메인 함수를 수정해야한다. 기존 기능을 수정하면 새로운 버그를 만들어낼 가능성이 많기 때문에,
빈번한 메인 함수의 재설계는 버그를 만들어낼 확률이 높아진다.

### 비즈니스 로직과 사용자 인터페이스의 결합
하향식 접근법은 비즈니스 로직을 설계하는 초기 단계부터 입력 방법과 출력 양식을 함께 고민하도록 강요한다.
이 말은 중요한 비즈니스 로직과 관련된 관심사와 사용자 인터페이스 로직이 한데 섞여 있다는 의미인데,

문제는 비즈니스 로직과 사용자 인터페이스가 변경되는 빈도가 다르다는 것이다.
빈번하게 변경되는 사용자 인터페이스와 다르게 비즈니스 로직은 변경이 적게 발생한다.
하지만 함께 존재하기 때문에 비즈니스 로직도 변경의 영향에 미친다는 것이다.

이렇게 되면 사용자 인터페이스르 변경하는 경우 비즈니스 로직까지 변경에 영향을 미처 불안정한 아키텍처를 낳는다.

관심사 분리라는 아키텍처 설계의 목적을 달성하기 어렵다.

### 성급하게 결정된 실행 순서
