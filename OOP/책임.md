# 책임

협력에 참여하기 위해 객체가 수행하는 행동을 `책임` 이라고 부른다.

책임이란 객체에 정의되늰 응집도 있는 행위의 집합으로, 객체가 유지해야하는 정보와 수행할 수 있는 행동에 대해 개략적으로 서술한 문장이다.

`무엇을 알고 있는가` 와 `무엇을 할 수 잇는가`

크레이그 라만(Craig Larman) '하는 것(doing)'과 아는 것(knowing)'

- 하는 것
  - 객체를 생성하거나 계산을 수행하는 등의 스스로 하는 것
  - 다른 객체의 행동을 시작시키는 것
  - 다른 객체의 활동을 제어하고 조절하는 것
- 아는 것
  - 사적인 정보에 관해 아는 것
  - 관련된 객체에 관해 아는 것
  - 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것

객체지향 설계에서 가장 중요한 것은 책임이다. 객체에 얼마나 적절한 책임을 할당하느냐가 설계의 전체적인 품질을 결정한다.
객체의 구현 방법은 상대적으로 책임보다는 덜 중요하며 책임을 결정한 다음에 고민해도 늦지 않다.

## 책임 할당
메시지 전송과 전송 대상(정보 전문가)를 색출하고 이를 할당한다.

예매해라 -> [C]Screening -> 계산해라 -> [C]Movie -> 할인적용 계산해라 -> [A]Discount Policy

객체지향 설계는 협력에 필요한 메시지를 찾고 메시지에 적절한 객체(정보 전문가)를 선택하는 반복적인 과정을 통해 이뤄진다.

## 책임 주도 설계
책임을 찾고 책임을 수행할 적절한 객체를 찾아 책임을 할당하는 방식으로 협력을 설계하는 방법을 책임 주도 설계라고 부른다. 
1. 시스템이 사용자에게 제공해야 하는 기능인 시스템 책임을 파악한다.
2. 시스템 책임을 더 작은 책임으로 분할한다.
3. 분할된 책임을 수행할 수 있는 적절한 객체 또는 역할을 찾아 책임을 할당한다.
4. 객체가 책임을 수행하는 도중 다른 객체의 도움이 필요한 경우 이를 책임질 적절한 객체 또는 역할을 찾는다.
5. 해당 객체 또는 역할에게 책임을 할당함으로써 두 객체가 협력하게 한다.

## 메시지가 객체를 결정한다.
객체가 메시지를 선택하는 것이 아니라 메시지가 객체를 선택하게 했다.

메시지가 객체를 선택하게 해야 하는 두 가지 중요한 이유가 있다.
1. 객체가 최소한의 인터페이스를 가질 수 있게 된다.
2. 객체는 충분히 추상적인 인터페이스를 가질 수 있게 된다.

## 행동이 상태를 결정한다.
객체가 존재하는 이유는 협력에 참여하기 위해서다. 따라서 객체는 협력에 필요한 행동을 제공해야 한다.

객체를 설계할 때, 객체의 행동에 초점을 맞추어야한다. 객체의 행동보다 상태에 초점을 맞추면 객체의 구현이 퍼블릭 인터페이스로 노출되기 쉽고 캡슐화에 저해요소가된다.

레베카 워프스브록은 이와 같이 객체의 내부 구현에 초점을 맞춘 설계 방법을 데이터-주도 설계 라고 부른다.

캡슐화를 위반하지않도록 구현에 대한 결정을 뒤로 미루면서 객체의 행위를 고려하기 위해서는 항상 협력이라는 문맥 안에서 객체를 생각해야 한다.

협력을 통해, 다른 객체에게 무엇을 제공하고 다른 객체로부터 무엇을 얻어야 하는지 고민해야만 훌륭한 책임을 수확할 수 있다.

행동이 중요하다. 객체가 가질 수 있는 상태는 행동을 결정하고 나서야 비로소 결정할 수 있다. 협력이 객체의 행동을 결정하고 행동이 상태를 결정한다. 그리고 그 행동이 바로 객체의 책임이 된다.